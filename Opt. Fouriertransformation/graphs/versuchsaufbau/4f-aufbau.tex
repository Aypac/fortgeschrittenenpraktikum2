\documentclass[pstricks,border=12pt]{standalone}% remove the border key if you want a tight output without any border.

% REMEMBER: You'll need DVI->PS->PDF chain instead of pdflatex!

%Optical elements
\input{../optexpstyle.sty}

\def\fourFwidth{2}

\begin{document}
	
	%\psset{xunit=4cm, yunit=1.6cm}
	%\addtopsstyle{Beam}{beamwidth=0.3, fillstyle=solid, fillcolor=green, opacity=0.25, arrowscale=1.8} %,linestyle=none, fillcolor=green!18!white
	
	\begin{pspicture}(0,0)(19,2) %[showgrid]
	\pnodes(2,1){L0}(3,1){L1}(4,1){L2}(5.5,1){L3}(8.5,1){L4}(10.5,1){L5}(18.5,1){L6}
	
	\psset{mirrortype=extended, mirrordepth=0.15, hatchcolor=black!30}
	
	
	\begin{optexp} %All beams placed behind components
	
	
		\optbox[position=start,compname=LA, optboxsize=2 1, labeloffset=0](L0)(L2){Auskoppler}
		
		\optretplate[compname=LH](L0)(L1){$\nicefrac{\lambda}{2}$}
		\beamsplitter[compname=BS](L0)(L2)(4,0)
		\lens[lensradius=0.7,lensheight=1, labeloffset=1, labelangle=180,compname=L1, position=0](L3)(L4){Linse 1}
		\lens[lensradius=2.3,lensheight=1.4, labeloffset=1, labelangle=180,compname=L2, position=1](L3)(L4){Linse 2}
		\optplate[plateheight=1.5, labelangle=180, labeloffset=1, compname=DIA, position=1](L4)(L5){Objekt/Dia}
		\lens[lensradius=\fourFwidth,lensheight=1.4, labeloffset=1, labelangle=180,compname=L3, position=0.25](L5)(L6){Linse 3}
		\optplate[plateheight=1.5, labelangle=180, labeloffset=1, compname=CCD1, position=.5](L5)(L6){Fourierebene}
		\lens[lensradius=\fourFwidth,lensheight=1.4, labeloffset=1, labelangle=180,compname=L4, position=0.75](L5)(L6){Linse 4}
		\optplate[plateheight=1.5, labelangle=180, labeloffset=1, compname=CCD2, position=1](L5)(L6){CCD}
		
		\drawwidebeam[beamwidth=0.2, fillstyle=solid, opacity=0.25, arrowscale=1.8, fillcolor=red, linecolor=red] {LA}{LH}{BS}{L1}{L2}{DIA}{L3}{CCD1}{L4}{CCD2}
	
	\end{optexp}
	
	\psset{arrows=|*-|*}
	\pcline([offset=-1]\oenodeCenter{4})([offset=-1]\oenodeCenter{5})
	\ncput*{$f_1+f_2$}
	
	\pcline([offset=-1]\oenodeCenter{6})([offset=-1]\oenodeCenter{7})
	\ncput*{$f_3$}
	\pcline([offset=-1]\oenodeCenter{7})([offset=-1]\oenodeCenter{8})
	\ncput*{$f_3$}
	\pcline([offset=-1]\oenodeCenter{8})([offset=-1]\oenodeCenter{9})
	\ncput*{$f_4$}
	\pcline([offset=-1]\oenodeCenter{9})([offset=-1]\oenodeCenter{10})
	\ncput*{$f_4$}
	
	\end{pspicture}
	
	
	
	\begin{comment}
		\optbox[position=start,compname=LA](L0)(L2){Laser}
		\optbox[position=0.53, optboxsize=0.2 0.6,labelangle=190, labeloffset=0.65](L0)(L2){{\small ND-Filter}}
		\optbox[position=0.47, optboxsize=0.2 0.6](L0)(L2){~}
		\mirror[compname=M1](L0)(L2)(L3)
		\mirror[compname=M2](L2)(L3)(L5)
		\optretplate[beam](L3)(L5){$\nicefrac{\lambda}{2}$}
		\beamsplitter[compname=BS](L3)(L5)(L6)
		
		\mirror[compname=M3,variable](L5)(L6)(L7)
		\mirror[compname=M4,variable](L7)(L8)(L9)
		\optretplate[beam](L8)(L9){$\nicefrac{\lambda}{2}$}
		
		\drawbeam[linecolor=red,arrows=->] {BS}(-4,3.5)
		
		\drawbeam[linecolor=red] {LA}{M1}{M2}{BS}{M3}{M4}{EK}
		
	
		%\optsource[innerlabel,beamdiv=1,beamangle=0,compname=LA](L)(C){Laser}
		\lens[lensradius=1.5,lensheight=1.4, labeloffset=1, labelangle=180](L1)(L2){Lens 1}
		\pinhole[innerheight=0.025,phwidth=-0.1, outerheight=1.4, labeloffset=1](L2)(L3){Pinhole/CCD}
		\lens[lensradius=3,lensheight=1.4, labeloffset=1](L3)(L4){Lens 2}
		
		\optplate[plateheight=1.5, labelangle=-140, labeloffset=1.3, compname=CCD](L4)(L5){Screen/CCD}
		%\optbox[position=end, labeloffset=0,labelref=relative,compname=CCD](L4)(L5){CCD}
		
		\drawwidebeam[beamdiv=5.5, fillcolor=orange, linecolor=white!]{1-5}
		\drawwidebeam[beamdiv=1.5, ArrowInside=->]{-}
	\end{comment}
	
\end{document}